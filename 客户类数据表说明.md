# 银行一表通监管数据采集接口标准 2.0 - 客户类数据表

## 概述

本项目根据《银行一表通监管数据采集接口标准_2.0》文档，生成了客户类数据的7张表的SQL建表脚本。

## 表结构说明

### 客户类数据包含的7张表：

1. **表2.1 单一法人基本情况** (`corporate_customer_basic`)
   - 文件：`07_corporate_customer_basic.sql`
   - 描述：单一法人客户的基本信息，包括企业注册信息、法人代表信息等

2. **表2.2 集团基本情况** (`group_customer_basic`)
   - 文件：`08_group_customer_basic.sql`
   - 描述：集团客户的基本信息，包括母公司信息、集团成员数等

3. **表2.3 同业客户基本情况** (`interbank_customer_basic`)
   - 文件：`09_interbank_customer_basic.sql`
   - 描述：同业金融机构客户的基本信息

4. **表2.4 个体工商户及小微企业主基本情况** (`micro_business_customer_basic`)
   - 文件：`10_micro_business_customer_basic.sql`
   - 描述：个体工商户及小微企业主的基本信息

5. **表2.5 个人客户基本情况** (`individual_customer_basic`)
   - 文件：`11_individual_customer_basic.sql`
   - 描述：个人客户的基本信息，包括身份信息、工作信息等

6. **表2.6 客户财务信息** (`customer_financial_info`)
   - 文件：`12_customer_financial_info.sql`
   - 描述：客户的财务报表信息，包括资产负债、利润等

7. **表2.7 收单商户信息表** (`acquiring_merchant_info`)
   - 文件：`13_acquiring_merchant_info.sql`
   - 描述：收单商户的基本信息

## 字段设计特点

### 监管字段
- 严格按照文档中的字段编码（B开头）和字段定义
- 字段注释格式：'字段编码-中文名称'
- 数据类型根据监管要求设置合适的长度和精度

### 数据治理字段
- `data_owner_dept`：数据归属部门
- `data_source_system`：数据来源系统

### 时间戳字段
- `created_at`：创建时间（自动生成）
- `updated_at`：更新时间（自动更新）

### 索引设计
- 为关键字段创建索引以提高查询性能
- 为数据治理字段创建索引便于数据管理
- 为时间戳字段创建索引支持时间范围查询

### 外键约束
- 集团基本情况表引用单一法人基本情况表
- 客户财务信息表引用单一法人基本情况表
- 收单商户信息表可选引用单一法人基本情况表

## 使用方法

### 方法一：执行汇总脚本
```sql
-- 执行主脚本，会自动执行所有表的创建
SOURCE 00_customer_data_tables_master.sql;
```

### 方法二：逐个执行
按照以下顺序执行各个SQL文件：
```sql
-- 1. 基础表
SOURCE 07_corporate_customer_basic.sql;

-- 2. 独立表
SOURCE 09_interbank_customer_basic.sql;
SOURCE 10_micro_business_customer_basic.sql;
SOURCE 11_individual_customer_basic.sql;

-- 3. 依赖表
SOURCE 08_group_customer_basic.sql;
SOURCE 12_customer_financial_info.sql;
SOURCE 13_acquiring_merchant_info.sql;
```

## 技术规范

- **数据库引擎**：InnoDB
- **字符集**：UTF8MB4
- **排序规则**：utf8mb4_unicode_ci
- **命名规范**：snake_case风格
- **主键策略**：复合主键（customer_id/group_id/merchant_id + institution_id）

## 数据完整性

### 外键关系
- 集团基本情况表.母公司客户ID → 单一法人基本情况表.客户ID
- 客户财务信息表.客户ID → 单一法人基本情况表.客户ID
- 收单商户信息表.客户ID → 单一法人基本情况表.客户ID（可选）

### 约束说明
- 所有金额字段使用DECIMAL(20,2)确保精度
- 标识字段使用TINYINT(1)表示布尔值
- 日期字段使用DATE类型
- 文本字段根据监管要求设置合适长度

## 注意事项

1. **执行顺序很重要**：由于存在外键约束，必须先创建被引用的表
2. **字符集设置**：确保数据库支持UTF8MB4字符集以支持中文和特殊字符
3. **索引优化**：根据实际查询需求可以调整索引策略
4. **数据治理**：必须填写数据归属部门和数据来源系统字段
5. **监管合规**：所有字段定义严格遵循监管标准，不建议随意修改

## 版本信息

- 基于：银行一表通监管数据采集接口标准 2.0
- 生成时间：2025年
- 生成工具：Claude Code